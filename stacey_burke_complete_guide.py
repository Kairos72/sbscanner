"""
STACEY BURKE COMPLETE TRADING STRATEGY GUIDE
============================================

Based on comprehensive research of Stacey Burke's trading methodology,
this document compiles all key concepts and rules for implementing
the strategy effectively.

Table of Contents:
1. Core Trading Philosophy
2. Market Structure Theory
3. Key Patterns & Setups
4. Entry & Exit Rules
5. Risk Management
6. Timeframe Analysis
7. Implementation Strategy
"""

# =============================================================================
# 1. CORE TRADING PHILOSOPHY
# =============================================================================

"""
THE MARKET ONLY DOES 3 THINGS:
1. BREAKOUT AND TREND
   - Market breaks out of range and continues
   - Creates directional moves
   - Follow-through momentum

2. BREAKOUT AND REVERSE (False Break)
   - Market attempts breakout but fails
   - Traps traders on wrong side
   - Reversal from failed breakout

3. TRADING RANGE (Consolidation)
   - Market moves sideways
   - Accumulation/Distribution
   - Inside days and range days

KEY PRINCIPLES:
- Markets operate in cycles
- 3-day cycles are fundamental
- Identify where traders are trapped
- Trade with the path of least resistance
- Higher timeframes control lower timeframes
"""

# =============================================================================
# 2. MARKET STRUCTURE THEORY
# =============================================================================

"""
MARKET STRUCTURE CONCEPTS:

PEAK FORMATIONS:
- Identify where retail traders are trapped
- Market resets after peaks
- New anchor points established
- Can occur after 2-5 days of directional movement

MARKET RESETS:
- Represent new anchor points
- Signal shift in market structure
- Often occur at extremes
- Provide fresh entry opportunities

TIMEFRAME HIERARCHY:
1. Weekly (Direction)
2. Daily (Structure)
3. H4 (Entry zones)
4. H1 (Triggers)
"""

# =============================================================================
# 3. KEY PATTERNS & SETUPS
# =============================================================================

"""
PATTERN DEFINITIONS:

1. FRD - FIRST RED DAY
   - Definition: First red candle after consecutive green candles
   - Signal: Potential bearish reversal
   - Context: After 3+ green candles (H1) or daily uptrend

   Rules:
   - Red candle closes below open
   - Previous candle(s) were green
   - Minimum 3 consecutive greens before FRD
   - Entry: Above FRD candle's high
   - Stop: Above FRD candle's high + buffer

2. FGD - FIRST GREEN DAY
   - Definition: First green candle after consecutive red candles
   - Signal: Potential bullish reversal
   - Context: After 3+ red candles (H1) or daily downtrend

   Rules:
   - Green candle closes above open
   - Previous candle(s) were red
   - Minimum 3 consecutive reds before FGD
   - Entry: Below FGD candle's low
   - Stop: Below FGD candle's low - buffer

3. INSIDE DAY (ID)
   - Definition: Candle within previous day's range
   - Signal: Consolidation before breakout
   - Context: Range-bound market

   Rules:
   - High < previous day's high
   - Low > previous day's low
   - Trade breakout of inside day range
   - Watch for false breaks

4. 3DL - THREE DAYS OF LONGS
   - Definition: Three consecutive days of buying
   - Signal: Market overextended to upside
   - Context: Weak longs present

   Rules:
   - 3+ consecutive green daily candles
   - Look for short entries
   - Target the previous day's low
   - Stop above the high

5. 3DS - THREE DAYS OF SHORTS
   - Definition: Three consecutive days of selling
   - Signal: Market overextended to downside
   - Context: Weak shorts present

   Rules:
   - 3+ consecutive red daily candles
   - Look for long entries
   - Target the previous day's high
   - Stop below the low

6. WEEKLY HIGH/LOW BREAKOUT
   - Definition: Break of previous week's high/low
   - Signal: Potential trend continuation
   - Context: Strong momentum

   Rules:
   - Must close above/below weekly level
   - Look for pullback to test
   - Entry on confirmation
"""

# =============================================================================
# 4. ENTRY & EXIT RULES
# =============================================================================

"""
ENTRY RULES:

FRD ENTRIES:
1. Identify FRD (red after 3+ greens)
2. Wait for price to trade above FRD high
3. Enter short on first pullback
4. Stop: FRD high + 5-10 pips
5. Target: Previous low or 1:2 RR

FGD ENTRIES:
1. Identify FGD (green after 3+ reds)
2. Wait for price to trade below FGD low
3. Enter long on first pullback
4. Stop: FGD low - 5-10 pips
5. Target: Previous high or 1:2 RR

INSIDE DAY BREAKOUTS:
1. Identify inside day
2. Mark high/low of range
3. Enter on break + confirmation
4. Stop: Opposite side of range
5. Target: Measured move

EXIT RULES:
1. Take profit at key levels (previous highs/lows)
2. Trail stop after 1:1 RR achieved
3. Scale out at 50% of target
4. Full exit if reversal pattern forms
"""

# =============================================================================
# 5. RISK MANAGEMENT
# =============================================================================

"""
RISK MANAGEMENT RULES:

POSITION SIZING:
- Risk 1% per trade maximum
- Adjust based on volatility
- Consider correlation between pairs

STOP LOSS PLACEMENT:
- FRD: Above high + spread + buffer
- FGD: Below low - spread - buffer
- Inside day: Outside range + buffer

RISK/REWARD:
- Minimum 1:2 RR ratio
- Target 1:3 when possible
- Skip trades with poor RR

DAILY LOSS LIMIT:
- Stop trading after 3 losses
- Maximum daily loss: 3%
- Review setup after losses
"""

# =============================================================================
# 6. TIMEFRAME ANALYSIS
# =============================================================================

"""
MULTI-TIMEFRAME APPROACH:

WEEKLY (W1):
- Determine overall trend direction
- Identify key weekly levels
- Major support/resistance

DAILY (D1):
- Structure analysis
- Daily FRD/FGD signals
- 3DL/3DS patterns

H4 (4H):
- Entry zone identification
- Smaller structure within daily
- Confirmation of setup

H1 (1H):
- Trigger identification
- Precise entry points
- Stop loss placement

RULES:
- Higher timeframe controls lower
- No H1 trades against D1 trend
- Wait for alignment across timeframes
"""

# =============================================================================
# 7. IMPLEMENTATION STRATEGY
# =============================================================================

"""

SCANNING PROCESS:

1. DAILY ANALYSIS:
   - Check daily trend
   - Identify 3DL/3DS
   - Mark FRD/FGD on daily
   - Note weekly levels

2. H4 ANALYSIS:
   - Find entry zones
   - Identify pullbacks
   - Confirm daily bias

3. H1 ANALYSIS:
   - Look for FRD/FGD signals
   - Check consecutive candles
   - Identify trigger levels

4. EXECUTION:
   - Wait for price to reach entry zone
   - Confirm with candle pattern
   - Execute with proper stop loss
   - Manage position actively

DAILY ROUTINE:

ASIAN SESSION:
- Analyze daily closes
- Update key levels
- Identify potential setups

LONDON SESSION:
- Watch for breakouts
- Execute planned trades
- Manage open positions

NEW YORK SESSION:
- Look for reversals
- Take profits
- Prepare for close

WEEKLY ROUTINE:

SUNDAY:
- Review previous week
- Update weekly levels
- Plan week ahead

FRIDAY:
- Close all positions
- Review trades
- Prepare weekly summary
"""

# =============================================================================
# 8. ADVANCED CONCEPTS
# =============================================================================

"""

ADVANCED PATTERNS:

CONSECUTIVE FRD/FGD:
- Multiple FRDs indicate strong downtrend
- Multiple FGDs indicate strong uptrend
- Fade after 3+ consecutive signals

FAILED SIGNALS:
- FRD that immediately reverses
- FGD that fails to hold
- Inside day false break
- Trade the failure, not the signal

SESSION PATTERNS:
- London breakouts
- New York reversals
- Asian accumulation
- Friday profit taking

CORRELATION TRADING:
- USD pairs correlation
- Commodity correlation
- Risk-on/risk-off

MARKET MAKER PATTERNS:
- Stop hunts
- Liquidity grabs
- False breakouts
- Inducement
"""

# =============================================================================
# 9. TRADING PSYCHOLOGY
# =============================================================================

"""

PSYCHOLOGICAL RULES:

1. PATIENCE:
   - Wait for A+ setups
   - Don't force trades
   - Let setups come to you

2. DISCIPLINE:
   - Follow rules exactly
   - No emotional decisions
   - Stick to the plan

3. ACCEPTANCE:
   - Accept losses as cost
   - Don't revenge trade
   - Stay neutral

4. LEARNING:
   - Review all trades
   - Learn from mistakes
   - Keep trading journal

COMMON MISTAKES:
- Chasing price
- Overtrading
- Ignoring risk rules
- Revenge trading
- Not waiting for confirmation
"""

# =============================================================================
# 10. SCRIPT IMPROVEMENT RECOMMENDATIONS
# =============================================================================

"""

FOR SCRIPT ENHANCEMENT:

1. ADDITIONAL PATTERNS:
   - Inside day detection
   - 3DL/3DS identification
   - Weekly level breaks
   - Consecutive signal analysis

2. FILTERS:
   - Higher timeframe alignment
   - Volatility filter
   - Session filter
   - Spread filter

3. ALERTS:
   - FRD/FGD alerts
   - Level break alerts
   - Target achieved alerts
   - Stop loss alerts

4. VISUALIZATION:
   - Mark key levels
   - Show entry zones
   - Display risk/reward
   - Pattern history

5. AUTOMATION:
   - Auto entry options
   - Auto stop placement
   - Auto partial exits
   - Trailing stop logic

CODE IMPROVEMENTS:

```python
# Add to existing scanner
class AdvancedStaceyBurkeScanner(StaceyBurkeMT5Scanner):
    def __init__(self):
        super().__init__()
        self.inside_days = []
        self.weekly_levels = {}

    def detect_inside_day(self, df):
        """Detect inside day patterns"""
        for i in range(1, len(df)):
            if (df.iloc[i]['high'] < df.iloc[i-1]['high'] and
                df.iloc[i]['low'] > df.iloc[i-1]['low']):
                self.inside_days.append(i)

    def check_3dl_3ds(self, df):
        """Check for 3DL/3DS patterns"""
        consecutive_greens = 0
        consecutive_reds = 0

        for i in range(len(df)):
            if df.iloc[i]['close'] > df.iloc[i]['open']:
                consecutive_greens += 1
                consecutive_reds = 0
                if consecutive_greens >= 3:
                    return '3DL', i
            else:
                consecutive_reds += 1
                consecutive_greens = 0
                if consecutive_reds >= 3:
                    return '3DS', i

        return None, None
```

CONCLUSION:
This comprehensive guide provides all the essential elements of Stacey Burke's trading strategy.
The key is consistency, discipline, and proper risk management while following the rules exactly.
"""

print("STACEY BURKE COMPLETE TRADING STRATEGY GUIDE")
print("=" * 60)
print("1. Core Philosophy: Market only does 3 things")
print("   - Breakout and Trend")
print("   - Breakout and Reverse")
print("   - Trading Range")
print("")
print("2. Key Patterns:")
print("   - FRD (First Red Day): Red after 3+ greens")
print("   - FGD (First Green Day): Green after 3+ reds")
print("   - Inside Day (ID): Consolidation pattern")
print("   - 3DL (Three Days of Longs): Overextended longs")
print("   - 3DS (Three Days of Shorts): Overextended shorts")
print("")
print("3. Entry Rules:")
print("   - FRD: Short above red candle high")
print("   - FGD: Long below green candle low")
print("   - Inside Day: Breakout of range")
print("")
print("4. Risk Management:")
print("   - 1% risk per trade")
print("   - 1:2 minimum RR ratio")
print("   - Stop outside signal candle")
print("")
print("5. Timeframes:")
print("   - Weekly: Trend direction")
print("   - Daily: Structure and signals")
print("   - H1: Triggers and entries")
print("")
print("6. Philosophy:")
print("   - Markets operate in 3-day cycles")
print("   - Identify trapped traders")
print("   - Trade with path of least resistance")
print("   - Higher timeframes control lower timeframes")